<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Nh·∫≠p d·ªØ li·ªáu ‚Ä¢ MyHeart</title>
<link rel="stylesheet" href="style.css">
<style>
.container{max-width:720px;margin:40px auto;padding:24px;border-radius:16px;background:#111;border:1px solid #222}
h1{margin-top:0}
label{display:block;margin:14px 0 6px}
input[type="text"], textarea, input[type="url"]{width:100%;padding:10px;border-radius:10px;border:1px solid #333;background:#0b0b0b;color:#fff}
input[type="color"]{height:42px;width:100px;border:none;background:#0b0b0b;border-radius:8px}
.row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.small{opacity:.8}
.output{margin-top:16px;padding:12px;border:1px dashed #444;border-radius:10px;background:#0b0b0b}
</style>
</head>
<body>
<div class="container">
  <h1>üíå T·∫°o link MyHeart</h1>
  <p class="small">ƒêi·ªÅn l·ªùi nh·∫Øn, ch·ªçn m√†u & nh·∫°c (t√πy ch·ªçn). Nh·∫•n <b>T·∫°o link</b> r·ªìi g·ª≠i link ƒë√≥ cho ng∆∞·ªùi nh·∫≠n.</p>
  <label>L·ªùi nh·∫Øn (m·ªói d√≤ng l√† 1 c√¢u):</label>
  <textarea id="messages" rows="4" placeholder="Anh y√™u em
Anh y√™u em nhi·ªÅu l·∫Øm"></textarea>

  <div class="row">
    <div>
      <label>M√†u tr√°i tim:</label>
      <input type="color" id="color" value="#ff7aa5">
    </div>
    <div style="flex:1">
      <label>Link nh·∫°c (MP3, t√πy ch·ªçn):</label>
      <input type="url" id="music" placeholder="https://.../music.mp3">
    </div>
  </div>

  <div class="row">
    <button class="btn" id="make">T·∫°o link</button>
    <button class="btn secondary" id="preview">Xem th·ª≠</button>
  </div>

  <div class="output">
    <div>Link ƒë√£ t·∫°o:</div>
    <input type="text" id="out" readonly>
  </div>

  <p class="small">G·ª£i √Ω host: GitHub Pages ho·∫∑c Vercel. C√≥ th·ªÉ g·∫Øn QR cho link n√†y.</p>
</div>
<script src="heart.js"></script>
<script>
  const $ = (s)=>document.querySelector(s);
  $('#make').onclick = ()=>{
    const data = {
      messages: $('#messages').value.split(/\n/).map(s=>s.trim()).filter(Boolean),
      color: $('#color').value || '#ff7aa5',
      music: $('#music').value.trim()
    };
    const url = MyHeart.buildUrl(data);
    $('#out').value = url;
    $('#out').select(); document.execCommand('copy');
  };
  $('#preview').onclick = ()=>{
    const data = {
      messages: $('#messages').value.split(/\n/).map(s=>s.trim()).filter(Boolean),
      color: $('#color').value || '#ff7aa5',
      music: $('#music').value.trim()
    };
    location.href = MyHeart.buildUrl(data);
  };
</script>
</body>
</html>
